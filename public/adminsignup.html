<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>관리자 회원가입</title>
</head>
<body>
    <h1>관리자 회원가입</h1>

    <input type="email" id="email" placeholder="이메일" required />
    <input type="text" id="name" placeholder="이름" required />
    <input type="number" id="age" placeholder="나이" required />
    <input type="password" id="password" placeholder="비밀번호" required />
    <label>
        <input type="checkbox" id="adminCheckbox" /> 관리자 등록
    </label>
    <button id="signupButton">회원가입</button>

    <script>
        document.getElementById("signupButton").addEventListener("click", async () => {
            // 입력 값 가져오기
            const email = document.getElementById('email').value;
            const name = document.getElementById('name').value;
            const age = document.getElementById('age').value;
            const password = document.getElementById('password').value;
            const isAdmin = document.getElementById('adminCheckbox').checked;

            // 데이터 객체 생성
            const data = {
                email,
                name,
                age,
                password,
                isAdmin,
            };

            try {
                // POST 요청 보내기
                const response = await fetch('http://127.0.0.1:5500/process/adduseroradmin', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(data),
                });

                // 응답 처리
                const result = await response.json();
                alert(result.message);
            } catch (error) {
                console.error("Error:", error);
                alert("서버 응답 오류: " + error.message);
            }
        });
    </script>
</body>
</html>
